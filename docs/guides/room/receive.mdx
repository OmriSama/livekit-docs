---
title: Receiving Media
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

While connected to a room, the server may send down one or more audio/video/data tracks at any time. By default, a client automatically subscribes to a received track, and lets your app know by invoking callbacks on the room object and associated participant who published the track. 

## Track subscription

Receiving tracks from the server starts with a subscription. 

As mentioned in our guide on [publishing media](https://docs.livekit.io/guides/room/publish), LiveKit models tracks with two constructs: `TrackPublication` and `Track`. Think of a `TrackPublication` as metadata for a track registered with the server and `Track` as the raw media stream.

Track subscription callbacks provide your app with both the `Track` and `TrackPublication` objects.

<Tabs
  defaultValue="typescript"
  groupId="client-sdk"
  values={[
    {label: 'Browser', value: 'typescript'},
    {label: 'iOS', value: 'ios'},
    {label: 'Android', value: 'android'},
  ]}>

  <TabItem value="typescript">

  ```typescript title="TypeScript"
  import {
    connect,
    RoomEvent,
  } from 'livekit-client';

  connect('ws://your_host', token, {
    audio: true,
    video: true,
  }).then((room) => {
    room
      .on(RoomEvent.TrackSubscribed, handleTrackSubscribed)
  });

  function handleTrackSubscribed(
    track: RemoteTrack,
    publication: RemoteTrackPublication,
    participant: RemoteParticipant
  ) {
    /* do things with track, publication or participant */
  }
  ```

  </TabItem>

  <TabItem value="ios">

  ```swift title="Swift"
  let room = LiveKit.connect(options: ConnectOptions(url: url, token: token), delegate: self)
  ...
  func didSubscribe(track: Track, 
                    publication: RemoteTrackPublication, 
                    participant: RemoteParticipant) {
  
    /* do things with track, publication or participant */
  }
  ```

  For convenience, LiveKit provides a few [preset resolutions](https://docs.livekit.io/client-sdk-ios/VideoPreset/) when creating a video track. You also have control over the encoding bitrate with [publishing options](https://docs.livekit.io/client-sdk-ios/LocalVideoTrackPublishOptions/).

  When creating audio tracks, you have control over the [capture settings](https://docs.livekit.io/client-sdk-ios/LocalAudioTrackOptions/).

  </TabItem>
  <TabItem value="android">

  ```kotlin title="Kotlin"
  remoteParticipant.listener = object : ParticipantListener {
    override fun onTrackSubscribed(
      track: Track,
      publication: RemoteTrackPublication,
      participant: RemoteParticipant
    ) 
    {
      /* do things with track, publication or participant */
    }
  }
  ```

  For convenience, LiveKit provides a few [preset resolutions](https://docs.livekit.io/client-sdk-android/livekit-android-sdk/io.livekit.android.room.track/-video-preset/index.html) when creating a video track.

  When creating audio tracks, you have control over the [capture settings](https://docs.livekit.io/client-sdk-android/livekit-android-sdk/io.livekit.android.room.track/-local-audio-track-options/index.html).

  </TabItem>

</Tabs>

## Track metadata
In LiveKit, a `TrackPublication` object holds metadata for its associated `Track`. The following are accessible fields on a track publication object:

**subscribed**

A boolean indicating whether or not this track has been subscribed to by the current client.

**track**

If the client is subscribed, the associated `Track` object representing the raw stream.

**name**

A name generated by the client that published this particular track.

**sid**

A uid for this particular track, generated by LiveKit server.

**kind**

The type of track, whether it be audio, video or data.

**muted**

Whether this track is muted or not. Muted tracks won't receive new bytes from the server until unmuted.

**participant**

The room `Participant` that published this track.

## Media playback

Once subscribed to an audio or video track, a client usually wants to start playback of the live stream:

:::note

On mobile (iOS and Android), once subscribed to an audio track, live playback begins automatically.

:::

<Tabs
  defaultValue="typescript"
  groupId="client-sdk"
  values={[
    {label: 'Browser', value: 'typescript'},
    {label: 'iOS', value: 'ios'},
    {label: 'Android', value: 'android'},
  ]}>

  <TabItem value="typescript">

  ```typescript title="TypeScript"
  function handleTrackSubscribed(
    track: RemoteTrack,
    publication: RemoteTrackPublication,
    participant: RemoteParticipant
  ) {
    if (track.kind === Track.Kind.Video || track.kind === Track.Kind.Audio) {
      // attach track to a new HTMLVideoElement or HTMLAudioElement
      const element = track.attach();
      parentElement.appendChild(element);
    }
  }
  ```

  </TabItem>

  <TabItem value="ios">

  ```swift title="Swift"
  func didSubscribe(track: Track, publication: RemoteTrackPublication, participant: RemoteParticipant) {
    if let videoTrack = track as? VideoTrack {
      DispatchQueue.main.async {
        let videoView = VideoView(frame: .zero)
        videoView.translatesAutoresizingMaskIntoConstraints = false
        self.view.addSubview(videoView)
        
        /* Add any app-specific layout constraints */

        videoTrack.addRenderer(videoView.renderer)
      }
    }
  }
  ```  

  </TabItem>
  <TabItem value="android">

  ```kotlin title="Kotlin"
  remoteParticipant.listener = object : ParticipantListener {
    override fun onTrackSubscribed(
      track: Track,
      publication: RemoteTrackPublication,
      participant: RemoteParticipant
    ) {
      if (track is VideoTrack) {
        videoTrack.addRenderer(viewBinding.renderer)
      }
    }
  }
  ```
 
  </TabItem>

</Tabs>

## Subscriber controls
